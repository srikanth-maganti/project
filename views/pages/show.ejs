<%- layout("/layouts/boilerplate") %>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .book-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .image-gallery {
            position: relative;
        }

        .main-image {
            width: 100%;
            height: 500px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 20px;
            transition: opacity 0.3s ease;
        }

        .thumbnail-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .thumbnail {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 5px;
            cursor: pointer;
            transition: opacity 0.3s;
        }

        .thumbnail:hover {
            opacity: 0.7;
        }

        .book-info h1 {
            font-size: 2.5em;
            color: #333;
            margin-bottom: 10px;
        }

        .author {
            color: #666;
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .rating {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .stars {
            color: #ffd700;
            margin-right: 10px;
        }

        .price-section {
            margin: 20px 0;
        }

        .current-price {
            font-size: 2em;
            color: #2c3e50;
            font-weight: bold;
        }

        .original-price {
            text-decoration: line-through;
            color: #666;
            margin-left: 10px;
        }

        .discount {
            background: #e74c3c;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
            margin-left: 10px;
        }

        .condition, .seller {
            margin: 10px 0;
            color: #666;
        }

        .add-to-cart {
            background: #3498db;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            width: 100%;
            margin: 20px 0;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .add-to-cart:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .details-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .detail-item {
            margin-bottom: 10px;
        }

        .detail-label {
            font-weight: bold;
            color: #555;
        }

        .reviews-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .review {
            border-bottom: 1px solid #eee;
            padding: 20px 0;
        }

        .review:last-child {
            border-bottom: none;
        }

        .review-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        .reviewer-name {
            font-weight: bold;
        }

        .review-date {
            color: #666;
        }

        .related-books {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .related-book-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .related-book-card:hover {
            transform: translateY(-5px);
        }

        .related-book-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }

        .related-book-info {
            padding: 15px;
        }

        .section-title {
            font-size: 1.8em;
            color: #2c3e50;
            margin: 30px 0 20px 0;
        }

        @media (max-width: 768px) {
            .book-details {
                grid-template-columns: 1fr;
            }

            .main-image {
                height: 300px;
            }

            .thumbnail {
                height: 80px;
            }

            .review-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="book-details">
            <div class="image-gallery">
                <img src="<%=data.Image%>" alt="Book Cover" class="main-image" id="mainImage">
                <div class="thumbnail-container">
                    <img src="/api/placeholder/150/200" alt="Thumbnail 1" class="thumbnail">
                    <img src="/api/placeholder/150/200" alt="Thumbnail 2" class="thumbnail">
                    <img src="/api/placeholder/150/200" alt="Thumbnail 3" class="thumbnail">
                    <img src="/api/placeholder/150/200" alt="Thumbnail 4" class="thumbnail">
                </div>
            </div>

            <div class="book-info">
                <h1><%= data.Title %></h1>
                <p class="author"><%= data.Author %></p>
                
                <div class="rating">
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <span>4.5 (842 reviews)</span>
                </div>

                <div class="price-section">
                    <span class="current-price"><%= data.Price %></span>
                    <!-- <span class="original-price">$18.99</span> -->
                    <span class="discount">52% OFF</span>
                </div>

                <p class="condition"><strong>Condition:</strong> Good</p>
                <p class="seller"><strong>Sellesr:</strong> BookLover123</p>
              <form action="/cart/<%=data._id%>" method="post">
                <button class="add-to-cart btn" type="submit" >
                    <i class="fas fa-shopping-cart"></i>
                    <span>Add to Cart</span>
                </button>
              </form>
                

                <div class="details-card">
                    <h3>Book Details</h3>
                    <div class="details-grid">
                        <div class="detail-item">
                            <p class="detail-label">ISBN:</p>
                            <p>978-0316769488</p>
                        </div>
                        <div class="detail-item">
                            <p class="detail-label">Language:</p>
                            <p>English</p>
                        </div>
                        <div class="detail-item">
                            <p class="detail-label">Pages:</p>
                            <p>234</p>
                        </div>
                        <div class="detail-item">
                            <p class="detail-label">Publisher:</p>
                            <p>Little, Brown and Company</p>
                        </div>
                        <div class="detail-item">
                            <p class="detail-label">Publication Year:</p>
                            <p>1991</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <h2 class="section-title">Description</h2>
        <div class="reviews-section">
            <p>Minor wear on corners, no highlighting or notes inside. Second edition from 1992. The book is in good condition and all pages are intact. The spine may show signs of wear. Some scuffing may be present on the cover, which is normal for used books.</p>
        </div>

        <h2 class="section-title">Customer Reviews</h2>
        <div class="reviews-section">
            <div class="review">
                <div class="review-header">
                    <span class="reviewer-name">Sarah M.</span>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <span class="review-date">February 15, 2024</span>
                </div>
                <p>Book arrived in excellent condition, exactly as described.</p>
            </div>
            <div class="review">
                <div class="review-header">
                    <span class="reviewer-name">John D.</span>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="far fa-star"></i>
                    </div>
                    <span class="review-date">February 10, 2024</span>
                </div>
                <p>Good price for a classic. Some wear but perfectly readable.</p>
            </div>
        </div>

        <h2 class="section-title">Related Books</h2>
        <div class="related-books">
            <div class="related-book-card">
                <img src="/api/placeholder/200/300" alt="1984" class="related-book-image">
                <div class="related-book-info">
                    <h3>1984</h3>
                    <p>George Orwell</p>
                    <p class="current-price">$7.99</p>
                </div>
            </div>
            <div class="related-book-card">
                <img src="/api/placeholder/200/300" alt="Brave New World" class="related-book-image">
                <div class="related-book-info">
                    <h3>Brave New World</h3>
                    <p>Aldous Huxley</p>
                    <p class="current-price">$6.99</p>
                </div>
            </div>
            <div class="related-book-card">
                <img src="/api/placeholder/200/300" alt="Animal Farm" class="related-book-image">
                <div class="related-book-info">
                    <h3>Animal Farm</h3>
                    <p>George Orwell</p>
                    <p class="current-price">$5.99</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Image gallery functionality
        const mainImage = document.getElementById('mainImage');
        const thumbnails = document.querySelectorAll('.thumbnail');

        thumbnails.forEach(thumbnail => {
            thumbnail.addEventListener('click', function() {
                mainImage.style.opacity = '0';
                setTimeout(() => {
                    mainImage.src = this.src;
                    mainImage.style.opacity = '1';
                }, 300);
            });
        });

        // Add to cart button effect
        const addToCartBtn = document.querySelector('.add-to-cart');
        addToCartBtn.addEventListener('click', function() {
            const originalContent = this.innerHTML;
            this.innerHTML = '<i class="fas fa-check"></i><span>Added to Cart</span>';
            this.style.background = '#27ae60';
            
            setTimeout(() => {
                this.innerHTML = originalContent;
                this.style.background = '#3498db';
            }, 2000);
        });
    </script>

</body>